#include <iostream>
#include <cstdlib>
#include <ctime>

using namespace std;

#define ARRAY_SIZE 100
#define NUM_CANDIDATES 5

// Generate random votes (1 to 5)
void generateVotes(int arr[], int size) {
    srand(time(0));
    for (int i = 0; i < size; i++) {
        arr[i] = rand() % NUM_CANDIDATES + 1;
    }
}

// Print an array
void printArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        cout << arr[i] << " ";
    }
    cout << endl;
}

// Insertion sort
void insertionSort(int arr[], int size) {
    for (int i = 1; i < size; i++) {
        int temp = arr[i], j = i - 1;
        while (j >= 0 && arr[j] > temp) {
            arr[j + 1] = arr[j];
            j--;
        }
        arr[j + 1] = temp;
    }
}

// Count votes for candidates
void countVotes(int arr[], int size, int voteCount[]) {
    for (int i = 0; i < size; i++) {
        voteCount[arr[i] - 1]++;
    }
}

// Find the winning candidate
int findWinner(int voteCount[], int numCandidates) {
    int maxVotes = 0, winner = 0;
    for (int i = 0; i < numCandidates; i++) {
        if (voteCount[i] > maxVotes) {
            maxVotes = voteCount[i];
            winner = i + 1; // 1-based index
        }
    }
    return winner;
}

int main() {
    int arr[ARRAY_SIZE], voteCount[NUM_CANDIDATES] = {0};

    generateVotes(arr, ARRAY_SIZE);

    // Candidate list
    cout << "List of Candidates:\n"
         << "1: Bo Dalton Capistrano\n"
         << "2: Cornelius Raymon Agustín\n"
         << "3: Deja Jayla Bañaga\n"
         << "4: Lalla Brielle Yabut\n"
         << "5: Franklin Relano Castro\n\n";

    // Display and sort votes
    cout << "Unsorted votes:\n";
    printArray(arr, ARRAY_SIZE);
    insertionSort(arr, ARRAY_SIZE);
    cout << "\nSorted votes:\n";
    printArray(arr, ARRAY_SIZE);

    // Count and display votes
    countVotes(arr, ARRAY_SIZE, voteCount);
    cout << "\nVote count:\n";
    for (int i = 0; i < NUM_CANDIDATES; i++) {
        cout << "Candidate " << (i + 1) << ": " << voteCount[i] << " votes\n";
    }

    // Determine and display the winner
    cout << "\nThe winner is Candidate " << findWinner(voteCount, NUM_CANDIDATES) << "!\n";

    // Justification for insertion sort
    cout << "\nJustification: Insertion sort is efficient for small datasets, with O(n²) complexity, "
            "and performs well on nearly sorted data, making it suitable for this application.\n";

    return 0;
}
